# 🚀 快速开始指南

这是一个超级简化的部署指南，适合完全小白。

## 📝 部署清单

按照这个清单一步步操作，打勾表示完成：

### 准备阶段
- [ ] 注册腾讯云账号并完成实名认证
- [ ] 注册GitHub账号
- [ ] 下载安装Git（Windows用户）

### 上传代码
- [ ] 在GitHub创建新仓库
- [ ] 用Git将代码推送到GitHub

### 配置云服务
- [ ] 开通腾讯云"云开发"服务
- [ ] 创建环境，记下环境ID
- [ ] 创建3个数据库集合：authorizations、admins、verification_logs

### 部署应用
- [ ] 访问Webify控制台
- [ ] 从GitHub导入代码
- [ ] 配置环境变量（4个）
- [ ] 等待自动部署完成
- [ ] 记下访问地址

### 初始化系统
- [ ] 访问 /api/admin/init 初始化管理员
- [ ] 登录管理后台测试

### 配置EA
- [ ] 修改EA代码中的服务器地址
- [ ] 在MT5中允许WebRequest访问
- [ ] 编译EA
- [ ] 测试EA授权验证

## 🎯 核心步骤（3步完成）

### 第1步：上传代码到GitHub（5分钟）

1. 在GitHub创建仓库（点几下鼠标）
2. 在项目文件夹右键 -> Git Bash Here
3. 复制粘贴这些命令：

```bash
git init
git add .
git commit -m "初始化"
git remote add origin https://github.com/你的用户名/仓库名.git
git push -u origin master
```

### 第2步：部署到腾讯云（10分钟）

1. **开通云开发**
   - 访问：https://console.cloud.tencent.com/tcb
   - 新建环境 -> 记下环境ID

2. **创建数据库**
   - 点击"数据库" -> 添加集合
   - 创建3个：authorizations、admins、verification_logs

3. **部署到Webify**
   - 访问：https://console.cloud.tencent.com/webify
   - 新建应用 -> 从GitHub导入
   - 配置4个环境变量：
     * JWT_SECRET = 随机字符串
     * TCB_ENV_ID = 你的环境ID
     * DEFAULT_ADMIN_USERNAME = admin
     * DEFAULT_ADMIN_PASSWORD = 你的密码
   - 点击完成，等待部署

### 第3步：配置和测试（5分钟）

1. **初始化系统**
   - 浏览器打开：你的域名/api/admin/init
   
2. **登录测试**
   - 访问：你的域名/login
   - 用默认账号登录

3. **配置EA**
   - 修改EA代码中的域名
   - MT5中允许WebRequest访问
   - 编译并测试

## 📋 需要记录的信息

部署过程中，请记录以下信息：

```
GitHub仓库地址：_______________________________

云开发环境ID：_______________________________

Webify访问地址：_______________________________

管理员用户名：_______________________________

管理员密码：_______________________________

JWT_SECRET：_______________________________
```

## ⚡ 环境变量配置（重要！）

在Webify部署时，必须配置这4个环境变量：

| 变量名 | 示例值 | 说明 |
|--------|--------|------|
| JWT_SECRET | `abc123xyz789!@#$%^&*` | 随机字符串，越长越安全 |
| TCB_ENV_ID | `mt5-auth-xxx` | 云开发环境ID |
| DEFAULT_ADMIN_USERNAME | `admin` | 管理员用户名 |
| DEFAULT_ADMIN_PASSWORD | `MyPass@123` | 管理员密码 |

## 🔍 测试验证

部署完成后，测试这些功能：

### ✅ 测试1：访问网站
```
访问：https://你的域名.com
应该自动跳转到登录页面
```

### ✅ 测试2：登录管理后台
```
用户名：admin
密码：你设置的密码
应该能看到授权管理面板
```

### ✅ 测试3：添加授权
```
点击"添加授权"
输入MT5账号：12345678
授权30天
应该能在列表中看到
```

### ✅ 测试4：API验证
```
访问：https://你的域名.com/api/verify?account=12345678
应该返回：{"success": true, "data": {"authorized": true, ...}}
```

### ✅ 测试5：EA验证
```
在MT5中加载EA
查看日志，应该显示"授权验证成功"
```

## 🆘 遇到问题？

### 问题1：Git推送失败
**解决**：
```bash
# 先配置Git
git config --global user.name "你的名字"
git config --global user.email "你的邮箱"
# 再推送
git push
```

### 问题2：Webify部署失败
**解决**：
- 检查环境变量是否都配置了
- 查看构建日志找错误
- 确保GitHub仓库代码完整

### 问题3：无法登录管理后台
**解决**：
- 先访问 /api/admin/init 初始化
- 检查用户名密码是否正确
- 查看浏览器控制台错误信息

### 问题4：EA无法连接
**解决**：
- 检查MT5是否允许WebRequest
- 检查EA代码中的域名是否正确
- 确保域名以 https:// 开头

## 📞 需要帮助？

如果按照步骤操作还是有问题：

1. **查看详细文档**：打开 `部署文档.md`
2. **查看日志**：
   - Webify构建日志
   - 浏览器控制台（F12）
   - MT5专家日志
3. **检查配置**：
   - 环境变量是否正确
   - 数据库集合是否创建
   - MT5 WebRequest是否允许

## 🎉 部署成功！

如果所有测试都通过了，恭喜你！

**下一步该做什么？**

1. ✅ 修改默认管理员密码
2. ✅ 添加你的MT5账号授权
3. ✅ 测试EA是否正常运行
4. ✅ 备份环境变量和密码
5. ✅ 定期查看授权列表和日志

**安全提醒**：
- 不要泄露JWT_SECRET
- 使用强密码
- 定期备份数据库
- 定期更换密码

---

祝你使用愉快！如果有任何问题，请查看详细文档或联系技术支持。

